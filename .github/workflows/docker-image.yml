name: Build and Publish image to Docker Hub
on:
  [workflow_dispatch]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v4
    - name: OWASP Dependency-Check
      uses: dependency-check/dependency-check-action@v2
      with:
       project: 'Nome do seu projeto'
       scan: './backend/'
    - name: build image
      run: | 
        docker build ./backend/ -t 4ndsilva/home-care-backend-api:latest
    - name: push image to docker hub
      run: |
        docker login -u 4ndsilva -p ${{ secrets.DOCKER_HUB_TOKEN }}
        docker push 4ndsilva/home-care-backend-api:latest
